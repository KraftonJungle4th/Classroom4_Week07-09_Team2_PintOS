<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="UTF-8" />
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <title>Synchronization Â· GitBook</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description" content="" />
    <meta name="generator" content="GitBook 3.2.3" />

    <link rel="stylesheet" href="../gitbook/style.css" />

    <link
      rel="stylesheet"
      href="../gitbook/gitbook-plugin-highlight/website.css"
    />

    <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css" />

    <link
      rel="stylesheet"
      href="../gitbook/gitbook-plugin-fontsettings/website.css"
    />

    <meta name="HandheldFriendly" content="true" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <link
      rel="apple-touch-icon-precomposed"
      sizes="152x152"
      href="../gitbook/images/apple-touch-icon-precomposed-152.png"
    />
    <link
      rel="shortcut icon"
      href="../gitbook/images/favicon.ico"
      type="image/x-icon"
    />

    <link rel="next" href="memory_allocation.html" />

    <link rel="prev" href="threads.html" />
  </head>
  <body>
    <div class="book">
      <div class="book-summary">
        <div id="book-search-input" role="search">
          <input type="text" placeholder="Type to search" />
        </div>

        <nav role="navigation">
          <ul class="summary">
            <li class="header">Introduction</li>

            <li class="chapter" data-level="1.1" data-path="../">
              <a href="../"> Introduction </a>
            </li>

            <li
              class="chapter"
              data-level="1.2"
              data-path="../introduction/getting_started.html"
            >
              <a href="../introduction/getting_started.html">
                Getting Started
              </a>
            </li>

            <li
              class="chapter"
              data-level="1.3"
              data-path="../introduction/grading.html"
            >
              <a href="../introduction/grading.html"> Grading </a>
            </li>

            <li
              class="chapter"
              data-level="1.4"
              data-path="../introduction/legal_and_ethical_issues.html"
            >
              <a href="../introduction/legal_and_ethical_issues.html">
                Legal and Ethical Issues
              </a>
            </li>

            <li class="header">Project1: Threads</li>

            <li
              class="chapter"
              data-level="2.1"
              data-path="../project1/introduction.html"
            >
              <a href="../project1/introduction.html"> Introduction </a>
            </li>

            <li
              class="chapter"
              data-level="2.2"
              data-path="../project1/alarm_clock.html"
            >
              <a href="../project1/alarm_clock.html"> Alarm Clock </a>
            </li>

            <li
              class="chapter"
              data-level="2.3"
              data-path="../project1/priority_scheduling.html"
            >
              <a href="../project1/priority_scheduling.html">
                Priority Scheduling
              </a>
            </li>

            <li
              class="chapter"
              data-level="2.4"
              data-path="../project1/advanced_scheduler.html"
            >
              <a href="../project1/advanced_scheduler.html">
                Advanced Scheduler
              </a>
            </li>

            <li
              class="chapter"
              data-level="2.5"
              data-path="../project1/FAQ.html"
            >
              <a href="../project1/FAQ.html"> FAQ </a>
            </li>

            <li class="header">Project2: User Programs</li>

            <li
              class="chapter"
              data-level="3.1"
              data-path="../project2/introduction.html"
            >
              <a href="../project2/introduction.html"> Introduction </a>
            </li>

            <li
              class="chapter"
              data-level="3.2"
              data-path="../project2/argument_passing.html"
            >
              <a href="../project2/argument_passing.html"> Argument Passing </a>
            </li>

            <li
              class="chapter"
              data-level="3.3"
              data-path="../project2/user_memory.html"
            >
              <a href="../project2/user_memory.html"> User Memory </a>
            </li>

            <li
              class="chapter"
              data-level="3.4"
              data-path="../project2/system_call.html"
            >
              <a href="../project2/system_call.html"> System Calls </a>
            </li>

            <li
              class="chapter"
              data-level="3.5"
              data-path="../project2/process_termination.html"
            >
              <a href="../project2/process_termination.html">
                Process Termination Messages
              </a>
            </li>

            <li
              class="chapter"
              data-level="3.6"
              data-path="../project2/deny_write.html"
            >
              <a href="../project2/deny_write.html">
                Denying Writes to Executables
              </a>
            </li>

            <li
              class="chapter"
              data-level="3.7"
              data-path="../project2/dup.html"
            >
              <a href="../project2/dup.html">
                Extend File Descriptor (Extra)
              </a>
            </li>

            <li
              class="chapter"
              data-level="3.8"
              data-path="../project2/FAQ.html"
            >
              <a href="../project2/FAQ.html"> FAQ </a>
            </li>

            <li class="header">Project3: Virtual Memory</li>

            <li
              class="chapter"
              data-level="4.1"
              data-path="../project3/introduction.html"
            >
              <a href="../project3/introduction.html"> Introduction </a>
            </li>

            <li
              class="chapter"
              data-level="4.2"
              data-path="../project3/vm_management.html"
            >
              <a href="../project3/vm_management.html"> Memory Management </a>
            </li>

            <li
              class="chapter"
              data-level="4.3"
              data-path="../project3/anon.html"
            >
              <a href="../project3/anon.html"> Anonymous Page </a>
            </li>

            <li
              class="chapter"
              data-level="4.4"
              data-path="../project3/stack_growth.html"
            >
              <a href="../project3/stack_growth.html"> Stack Growth </a>
            </li>

            <li
              class="chapter"
              data-level="4.5"
              data-path="../project3/memory_mapped_files.html"
            >
              <a href="../project3/memory_mapped_files.html">
                Memory Mapped Files
              </a>
            </li>

            <li
              class="chapter"
              data-level="4.6"
              data-path="../project3/swapping.html"
            >
              <a href="../project3/swapping.html"> Swap In/Out </a>
            </li>

            <li
              class="chapter"
              data-level="4.7"
              data-path="../project3/cow.html"
            >
              <a href="../project3/cow.html"> Copy-on-Write (Extra) </a>
            </li>

            <li
              class="chapter"
              data-level="4.8"
              data-path="../project3/FAQ.html"
            >
              <a href="../project3/FAQ.html"> FAQ </a>
            </li>

            <li class="header">Project4: File System</li>

            <li
              class="chapter"
              data-level="5.1"
              data-path="../project4/introduction.html"
            >
              <a href="../project4/introduction.html"> Introduction </a>
            </li>

            <li
              class="chapter"
              data-level="5.2"
              data-path="../project4/indexed_and_extensible_files.html"
            >
              <a href="../project4/indexed_and_extensible_files.html">
                Indexed and Extensible Files
              </a>
            </li>

            <li
              class="chapter"
              data-level="5.3"
              data-path="../project4/subdirectories.html"
            >
              <a href="../project4/subdirectories.html">
                Subdirectories and Soft Links
              </a>
            </li>

            <li
              class="chapter"
              data-level="5.4"
              data-path="../project4/buffer_cache.html"
            >
              <a href="../project4/buffer_cache.html"> Buffer Cache (Extra) </a>
            </li>

            <li
              class="chapter"
              data-level="5.5"
              data-path="../project4/synchronization.html"
            >
              <a href="../project4/synchronization.html"> Synchronization </a>
            </li>

            <li
              class="chapter"
              data-level="5.6"
              data-path="../project4/FAQ.html"
            >
              <a href="../project4/FAQ.html"> FAQ </a>
            </li>

            <li class="header">Appendix</li>

            <li class="chapter" data-level="6.1" data-path="threads.html">
              <a href="threads.html"> Threads </a>
            </li>

            <li
              class="chapter active"
              data-level="6.2"
              data-path="synchronization.html"
            >
              <a href="synchronization.html"> Synchronization </a>
            </li>

            <li
              class="chapter"
              data-level="6.3"
              data-path="memory_allocation.html"
            >
              <a href="memory_allocation.html"> Memory Allocation </a>
            </li>

            <li
              class="chapter"
              data-level="6.4"
              data-path="virtual_address.html"
            >
              <a href="virtual_address.html"> Virtual Address </a>
            </li>

            <li class="chapter" data-level="6.5" data-path="page_table.html">
              <a href="page_table.html"> Page Table </a>
            </li>

            <li
              class="chapter"
              data-level="6.6"
              data-path="debugging_tools.html"
            >
              <a href="debugging_tools.html"> Debugging Tools </a>
            </li>

            <li
              class="chapter"
              data-level="6.7"
              data-path="development_tools.html"
            >
              <a href="development_tools.html"> Development Tools </a>
            </li>

            <li class="chapter" data-level="6.8" data-path="hash_table.html">
              <a href="hash_table.html"> Hash Table </a>
            </li>

            <li class="divider"></li>

            <li>
              <a
                href="https://www.gitbook.com"
                target="blank"
                class="gitbook-link"
              >
                Published with GitBook
              </a>
            </li>
          </ul>
        </nav>
      </div>

      <div class="book-body">
        <div class="body-inner">
          <div class="book-header" role="navigation">
            <!-- Title -->
            <h1>
              <i class="fa fa-circle-o-notch fa-spin"></i>
              <a href="..">Synchronization</a>
            </h1>
          </div>

          <div class="page-wrapper" tabindex="-1" role="main">
            <div class="page-inner">
              <div id="book-search-results">
                <div class="search-noresults">
                  <section class="normal markdown-section">
                    <h1 id="synchronization">Synchronization(ëê¸°í)</h1>
                    <div>
                      <h2>ìì½</h2>
                      <p>
                        ë¬¸ë§¥ êµí(Context Switching)ê³¼ ê´ë ¨ë
                        ëê¸°í(Synchronization)ë ì´ìì²´ì ìì ë§¤ì° ì¤ìí
                        ê°ëìëë¤. í¹í, ì¤ë ë ê°ì ìì ê³µì ë¥¼ ì ì´íì§
                        ìì¼ë©´, ê²°ê³¼ì ì¼ë¡ ë°ì´í°ì ë¶ì¼ì¹ì ê°ì ë¬¸ì ê° ë°ìí 
                        ì ììµëë¤. ì´ë¥¼ ë°©ì§íê¸° ìí´, Pintosë ì¬ë¬ ëê¸°í
                        ìì(primitives)ë¥¼ ì ê³µí©ëë¤.
                      </p>
                      <h3>ëê¸°íì ì£¼ì ë°©ë²</h3>
                      <ol>
                        <li>
                          <b>ì¸í°ë½í¸ ë¹íì±í(Disabling Interrupts)</b>: ê°ì¥
                          ê°ë¨í ëê¸°í ë°©ë²ì CPUê° ì¸í°ë½í¸ì ë°ìíì§ ëª»íê²
                          íë ê²ìëë¤. ì¸í°ë½í¸ê° ë¹íì±íëë©´, íì´ë¨¸
                          ì¸í°ë½í¸ì ìí´ ì¤ë ë ì íì´ ì¼ì´ëì§ ìê¸° ëë¬¸ì,
                          ë¤ë¥¸ ì¤ë ëê° íì¬ ì¤í ì¤ì¸ ì¤ë ëë¥¼ ì ì í  ì
                          ììµëë¤. ê·¸ë¬ë, ì´ ë°©ë²ì ì£¼ë¡ ì»¤ë ì¤ë ëì ì¸ë¶
                          ì¸í°ë½í¸ í¸ë¤ë¬ ê°ì ëê¸°íì ì¬ì©ëë©°, ëë¶ë¶ì
                          ê²½ì°ìë ë¤ë¥¸ ëê¸°í ë°©ë²ì´ ì¬ì©ë©ëë¤.
                        </li>
                        <li>
                          <b>ì¸ë§í¬ì´(Semaphores)</b>: ì¸ë§í¬ì´ë ì ì ê°ê³¼ ë
                          ê°ì ììì  ì°ì°ì¼ë¡ êµ¬ì±ë ëê¸°í ë©ì»¤ëì¦ìëë¤.
                          "Down" ëë "P" ì°ì°ì ì¸ë§í¬ì´ì ê°ì´ ììê° ë 
                          ëê¹ì§ ê¸°ë¤ë¦° ë¤ì, ê·¸ ê°ì ê°ììíµëë¤. "Up" ëë
                          "V" ì°ì°ì ì¸ë§í¬ì´ì ê°ì ì¦ê°ìíµëë¤. ì¸ë§í¬ì´ë
                          ë¦¬ìì¤ì ì ê·¼ ì ì´ë ì´ë²¤í¸ì ë°ìì ê¸°ë¤ë¦¬ë ë°
                          ì¬ì©ë  ì ììµëë¤.
                        </li>
                        <li>
                          <b>ë½(Locks)</b>: ë½ì ì¸ë§í¬ì´ì ì ì¬íì§ë§, ë½ì
                          íëí ì¤ë ëë§ì´ ê·¸ê²ì í´ì í  ì ìë ì¶ê°ì ì¸
                          ì íì´ ììµëë¤. ë½ì ì£¼ë¡ í ì¤ë ëê° í¹ì  ììì
                          ì¬ì©íê³  ìë ëì ë¤ë¥¸ ì¤ë ëê° ê·¸ ììì ì¬ì©íì§
                          ëª»íê² íê¸° ìí´ ì¬ì©ë©ëë¤.
                        </li>
                        <li>
                          <b>ëª¨ëí°(Monitors)</b>: ëª¨ëí°ë ë½ê³¼ ì¡°ê±´ ë³ìë¥¼
                          ê²°í©í ë ëì ìì¤ì ëê¸°í ë°©ë²ìëë¤. ëª¨ëí° ë´ìì
                          ì¤ë ëë ë³´í¸ëë ë°ì´í°ì ì ê·¼íê¸° ì ì ëª¨ëí° ë½ì
                          íëí´ì¼ íë©°, ë°ì´í°ì ëí ì ê·¼ì´ ëëë©´ ë½ì
                          í´ì í©ëë¤. ì¡°ê±´ ë³ìë ì¤ë ëê° í¹ì  ì¡°ê±´ì´ ì¶©ì¡±ë 
                          ëê¹ì§ ê¸°ë¤ë¦¬ê² í  ì ììµëë¤.
                        </li>
                      </ol>
                      <h3>ëê¸°íì íìì±</h3>
                      <p>
                        ëê¸°íë ì´ìì²´ì ìì ì¤ë ëê° ìì íê² ê³µì  ììì
                        ì ê·¼íëë¡ íì¬, ë°ì´í°ì ì¼ê´ì±ê³¼ ìì¤íì ìì ì±ì
                        ì ì§íë ë° íìì ìëë¤. í¹í, PintOSì ê°ì êµì¡ì©
                        ì´ìì²´ì ììë ì´ë¬í ëê¸°í ê¸°ë²ì ì§ì  êµ¬ííê³ 
                        ì¤íí¨ì¼ë¡ì¨, ë³µì¡í ë©í°ì¤ë ë© íê²½ìì ë°ìí  ì ìë
                        ë¤ìí ë¬¸ì ë¤ì ì´í´íê³  í´ê²°íë ë°©ë²ì íìµí  ì
                        ììµëë¤.
                      </p>
                      <p>
                        PintOSë¥¼ íìµíë©´ì, ì´ë¬í ëê¸°í ììë¤ì ì´ë»ê²
                        ì¬ì©íê³ , í¹í ë¬¸ë§¥ êµí ê³¼ì ìì ì¸í°ë½í¸ ë¹ íì±í,
                        ì¸ë§í¬ì´, ë½, ëª¨ëí° ë±ì í¨ê³¼ì ì¼ë¡ íì©íì¬ ì¤ë ë
                        ê°ì ìì í ìì ê³µì ë¥¼ ë³´ì¥íëì§ì ëí´ ê¹ì´ ì´í´íë
                        ê²ì´ ì¤ìí©ëë¤.
                      </p>
                    </div>
                    <h2>ë³¸ë¬¸</h2>
                    <p>
                      ì¤ë ë ê° ë¦¬ìì¤ ê³µì ê° ì ì¤íê³  íµì ë ë°©ìì¼ë¡ ì²ë¦¬ëì§
                      ìì¼ë©´ ì¼ë°ì ì¼ë¡ í° í¼ëì ì´ëí©ëë¤. í¹í ì´ì ì²´ì 
                      ì»¤ëì ê²½ì° ê³µì ì ê²°í¨ì´ ìì¼ë©´ ìì¤í ì ì²´ê° ë¤ì´ë  ì
                      ììµëë¤. íí ì¤ë ì´ë¥¼ ëê¸° ìí´ ëª ê°ì§
                      <a href="https://opennote46.tistory.com/118"
                        >ëê¸°í íë¦¬ë¯¸í°ë¸</a
                      >ë¥¼ ì ê³µí©ëë¤.
                    </p>
                    <h2 id="disabling-interrupts">
                      ì¸í°ë½í¸ ë¹íì±ííê¸°(Disabling Interrupts)
                    </h2>
                    <p>
                      ëê¸°íë¥¼ ìííë ê°ì¥ ì¡°ì¡í ë°©ë²ì ì¸í°ë½í¸ë¥¼
                      ë¹íì±ííë ê², ì¦ CPUê° ì¸í°ë½í¸ì ì¼ìì ì¼ë¡ ìëµíì§
                      ëª»íëë¡ íë ê²ìëë¤. ì¸í°ë½í¸ê° êº¼ì ¸ ìì¼ë©´ ì¤ë ë
                      ì ì ì íì´ë¨¸ ì¸í°ë½í¸ì ìí´ êµ¬ëëë¯ë¡ ë¤ë¥¸ ì¤ë ëê°
                      ì¤í ì¤ì¸ ì¤ë ëë¥¼ ì ì í  ì ììµëë¤. ì¸í°ë½í¸ê° ì¼ì ¸
                      ìì¼ë©´ ì¼ë°ì ì¼ë¡ ê·¸ë ë¯ì´ ì¤í ì¤ì¸ ì¤ë ëë ë ê°ì C ë¬¸
                      ì¬ì´ ëë ì¤í ì¤ìë ì¸ì ë ì§ ë¤ë¥¸ ì¤ë ëì ìí´ ì ì ë 
                      ì ììµëë¤.
                    </p>
                    <p>
                      ë§ë¶ì¬ì, ì´ê²ì íí ì¤ê° "ì ì  ê°ë¥í ì»¤ë"ì´ë¼ë ê²ì
                      ìë¯¸í©ëë¤. ì¦, ì»¤ë ì¤ë ëë ì¸ì ë ì§ ì ì í  ì ììµëë¤.
                      ê¸°ì¡´ ì ëì¤ ìì¤íì "ë¹ì ì  ê°ë¥", ì¦ ì»¤ë ì¤ë ëê°
                      ì¤ì¼ì¤ë¬ë¥¼ ëªìì ì¼ë¡ í¸ì¶íë ì§ì ììë§ ì»¤ë ì¤ë ëë¥¼
                      ì ì í  ì ììµëë¤. (ì¬ì©ì íë¡ê·¸ë¨ì ë ëª¨ë¸ ëª¨ëìì
                      ì¸ì ë ì§ ì ì í  ì ììµëë¤.) ììí  ì ìë¯ì´, ì ì 
                      ê°ë¥í ì»¤ëì ë³´ë¤ ëªìì ì¸ ëê¸°íê° íìí©ëë¤.
                    </p>
                    <p>
                      ì¸í°ë½í¸ ìíë¥¼ ì§ì  ì¤ì í  íìë ê±°ì ììµëë¤. ëë¶ë¶ì
                      ê²½ì° ë¤ì ì¹ììì ì¤ëªíë ë¤ë¥¸
                      <a href="https://opennote46.tistory.com/118"
                        >ëê¸°í íë¦¬ë¯¸í°ë¸</a
                      >ë¥¼ ì¬ì©í´ì¼ í©ëë¤. ì¸í°ë½í¸ë¥¼ ë¹íì±ííë ì£¼ë ì´ì ë
                      ì»¤ë ì¤ë ëë¥¼ ì¸ë¶ ì¸í°ë½í¸ í¸ë¤ë¬ì ëê¸°ííê¸°
                      ìí´ìì¸ë°, ì´ í¸ë¤ë¬ë ì ì  ìíê° ë  ì ìì¼ë¯ë¡
                      ëë¶ë¶ì ë¤ë¥¸ ííì ëê¸°íë¥¼ ì¬ì©í  ì ììµëë¤.
                    </p>
                    <p>
                      ì¼ë¶ ì¸ë¶ ì¸í°ë½í¸ë ì¸í°ë½í¸ë¥¼ ë¹íì±íí´ë ì°ê¸°í  ì
                      ììµëë¤. ì´ë¬í ì¸í°ë½í¸ë¥¼ ë¹ë§ì¤í¹ ê°ë¥
                      ì¸í°ë½í¸(NMI)ë¼ê³  íë©°, ì»´í¨í°ê° ë¶ì´ ë ê²½ì°ì ê°ì
                      ë¹ìììë§ ì¬ì©íëë¡ ëì´ ììµëë¤. íí ì¤ë ë¹ë§ì¤í¹
                      ê°ë¥ ì¸í°ë½í¸ë¥¼ ì²ë¦¬íì§ ììµëë¤.
                    </p>
                    <p>
                      ì¸í°ë½í¸ë¥¼ ë¹íì±í ë° íì±ííë ì íê³¼ í¨ìë
                      <code>include/threads/interrupt.h</code>ì ììµëë¤.
                    </p>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-keyword">enum</span> intr_level;
</code></pre>
                    <blockquote>
                      <p>
                        ì¸í°ë½í¸ê° ê°ê° ë¹íì±í ëë íì±íëììì ëíë´ë
                        INTR_OFF ëë INTR_ON ì¤ íëìëë¤.
                      </p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">enum</span> intr_level <span class="hljs-title">intr_get_level</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>
</span></code></pre>
                    <blockquote>
                      <p>íì¬ ì¸í°ë½í¸ ìíë¥¼ ë°íí©ëë¤.</p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">enum</span> intr_level <span class="hljs-title">intr_set_level</span> <span class="hljs-params">(<span class="hljs-keyword">enum</span> intr_level level)</span></span>;
</code></pre>
                    <blockquote>
                      <p>
                        ë ë²¨ì ë°ë¼ ì¸í°ë½í¸ë¥¼ ì¼ê±°ë ëëë¤. ì´ì  ì¸í°ë½í¸
                        ìíë¥¼ ë°íí©ëë¤.
                      </p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">enum</span> intr_level <span class="hljs-title">intr_enable</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>;
</code></pre>
                    <blockquote>
                      <p>ì¸í°ë½í¸ë¥¼ ì¼­ëë¤. ì´ì  ì¸í°ë½í¸ ìíë¥¼ ë°íí©ëë¤.</p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">enum</span> intr_level <span class="hljs-title">intr_disable</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>;
</code></pre>
                    <blockquote>
                      <p>ì¸í°ë½í¸ë¥¼ ëëë¤. ì´ì  ì¸í°ë½í¸ ìíë¥¼ ë°íí©ëë¤.</p>
                    </blockquote>
                    <h2 id="semaphores">ì¸ë§í¬ì´(Semaphores)</h2>
                    <p>
                      ì¸ë§í¬ì´ë ììê° ìë ì¸í°ê±°ì ì´ë¥¼ ììì ì¼ë¡ ì¡°ìíë
                      ë ê°ì ì°ì°ìë¥¼ í©ì¹ ê²ì¼ë¡, ë¤ìê³¼ ê°ìµëë¤.
                    </p>
                    <ul>
                      <li>
                        "Down" ëë "P": ê°ì´ ììê° ë  ëê¹ì§ ê¸°ë¤ë¦° ë¤ì ê°ì
                        ì¤ìëë¤.
                      </li>
                      <li>
                        "UP" ëë "V": ê°ì ì¦ê°ìíµëë¤(ëê¸° ì¤ì¸ ì¤ë ëê° íë
                        ìì¼ë©´ ê¹¨ìëë¤).
                      </li>
                    </ul>
                    <p>
                      0ì¼ë¡ ì´ê¸°íë ì¸ë§í¬ì´ë ì íí í ë²ë§ ë°ìíë ì´ë²¤í¸ë¥¼
                      ê¸°ë¤ë¦¬ë ë° ì¬ì©í  ì ììµëë¤. ìë¥¼ ë¤ì´ ì¤ë ë Aê° ë¤ë¥¸
                      ì¤ë ë Bë¥¼ ììíê³  Bê° ì´ë¤ íëì´ ìë£ëìë¤ë ì í¸ë¥¼
                      ë³´ë¼ ëê¹ì§ ê¸°ë¤ë¦¬ë ¤ê³  íë¤ê³  ê°ì í´ ë³´ê² ìµëë¤. Aë 0ì¼ë¡
                      ì´ê¸°íë ì¸ë§í¬ì´ë¥¼ ìì±íê³  ì´ë¥¼ Bê° ììí  ë ì ë¬í
                      ë¤ì ì¸ë§í¬ì´ë¥¼ "down"ìí¬ ì ììµëë¤. Bê° íëì
                      ìë£íë©´ ì¸ë§í¬ì´ë¥¼ "ups"í©ëë¤. ì´ë Aê° ì¸ë§í¬ì´ë¥¼
                      "downs"íë  Bê° ë¨¼ì  "ups"íë  ìê´ìì´ ìëí©ëë¤.
                    </p>
                    <p>ìë¥¼ ë¤ë©´ ë¤ìê³¼ ê°ìµëë¤:</p>
                    <pre><code class="lang-C"><span class="hljs-keyword">struct</span> semaphore sema;

<span class="hljs-comment">/* ì¤ë ë A */</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">threadA</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span> </span>{
    sema_down (&amp;sema);
}

<span class="hljs-comment">/* ì¤ë ë B */</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">threadB</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span> </span>{
    sema_up (&amp;sema);
}

<span class="hljs-comment">/* ë©ì¸ í¨ì */</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span> </span>{
    sema_init (&amp;sema, <span class="hljs-number">0</span>);
    thread_create (<span class="hljs-string">&quot;threadA&quot;</span>, PRI_MIN, threadA, <span class="hljs-literal">NULL</span>);
    thread_create (<span class="hljs-string">&quot;threadB&quot;</span>, PRI_MIN, threadB, <span class="hljs-literal">NULL</span>);
}
</code></pre>
                    <p>
                      ì´ ìì ìì <code>threadA</code>ë <code>threadB</code>ê°
                      <code>sema_up()</code>ì í¸ì¶í  ëê¹ì§
                      <code>sema_down()</code>ìì ì¤íì ì¤ì§í©ëë¤.
                    </p>
                    <p>
                      1ë¡ ì´ê¸°íë ì¸ë§í¬ì´ë ì¼ë°ì ì¼ë¡ ë¦¬ìì¤ì ëí ì¡ì¸ì¤ë¥¼
                      ì ì´íë ë° ì¬ì©ë©ëë¤. ì½ë ë¸ë¡ì´ ë¦¬ìì¤ ì¬ì©ì ììíê¸°
                      ì ì ì¸ë§í¬ì´ë¥¼ "downs"íê³ , ë¦¬ìì¤ ì¬ì©ì´ ìë£ë íìë
                      ë¦¬ìì¤ë¥¼ "Up"í©ëë¤. ì´ë¬í ê²½ì° ìëì ì¤ëªë ì ê¸ì´ ë
                      ì í©í  ì ììµëë¤.
                    </p>
                    <p>
                      ì¸ë§í¬ì´ë 1ë³´ë¤ í° ê°ì¼ë¡ ì´ê¸°íí  ìë ìì§ë§, ê±°ì
                      ì¬ì©ëì§ ììµëë¤. ì¸ë§í¬ì´ë ìëê±° ëí¬ì¤í¸ë¼(Edsger
                      Dijkstra)ê° ë°ëªíì¼ë©°, THE ì´ìì²´ì ìì ì²ì
                      ì¬ì©ëììµëë¤. íí ì¤ì ì¸ë§í¬ì´ ì íê³¼ ì°ì°ì
                      <code>include/threads/synch.h</code>ì ì ì¸ëì´ ììµëë¤.
                    </p>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-keyword">struct</span> semaphore;
</code></pre>
                    <blockquote>
                      <p>ì¸ë§í¬ì´ë¥¼ ëíëëë¤.</p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sema_init</span> <span class="hljs-params">(<span class="hljs-keyword">struct</span> semaphore *sema, <span class="hljs-keyword">unsigned</span> value)</span></span>;
</code></pre>
                    <blockquote>
                      <p>
                        ì£¼ì´ì§ ì´ê¸°ê°ì ì¬ì©íì¬ ì¸ë§ë¥¼ ì ì¸ë§í¬ì´ë¡
                        ì´ê¸°íí©ëë¤.
                      </p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sema_down</span> <span class="hljs-params">(<span class="hljs-keyword">struct</span> semaphore *sema)</span></span>;
</code></pre>
                    <blockquote>
                      <p>
                        ì¸ë§ìì "down" ëë "P" ì°ì°ì ì¤ííì¬ ê°ì´ ììê° ë 
                        ëê¹ì§ ê¸°ë¤ë¦° ë¤ì 1ì© ê°ììíµëë¤.
                      </p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">sema_try_down</span> <span class="hljs-params">(<span class="hljs-keyword">struct</span> semaphore *sema)</span></span>;
</code></pre>
                    <blockquote>
                      <p>
                        ê¸°ë¤ë¦¬ì§ ìê³  ì¸ë§ìì "down" ëë "P" ì°ì°ì ì¤ííë ¤ê³ 
                        ìëí©ëë¤. semaê° ì±ê³µì ì¼ë¡ ê°ìíë©´ ì°¸ì ë°ííê³ ,
                        ì´ë¯¸ 0ì´ì´ì ëê¸° ìì´ ê°ìí  ì ìë ê²½ì° ê±°ì§ì
                        ë°íí©ëë¤. ì´ í¨ìë¥¼ íì´í¸ ë£¨íìì í¸ì¶íë©´ CPU
                        ìê°ì´ ë­ë¹ëë¯ë¡ <code>sema_down()</code>ì ì¬ì©íê±°ë
                        ë¤ë¥¸ ë°©ë²ì ì°¾ìë³´ì¸ì.
                      </p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sema_up</span> <span class="hljs-params">(<span class="hljs-keyword">struct</span> semaphore *sema)</span></span>;
</code></pre>
                    <blockquote>
                      <p>
                        ì¸ë§ìì "up" ëë "V" ì°ì°ì ì¤ííì¬ ê°ì
                        ì¦ê°ìíµëë¤. semaìì ëê¸° ì¤ì¸ ì¤ë ëê° ìì¼ë©´ ê·¸ ì¤
                        íëë¥¼ ê¹¨ìëë¤. ëë¶ë¶ì ëê¸°í íë¦¬ë¯¸í°ë¸ì ë¬ë¦¬
                        <code>sema_up()</code>ì ì¸ë¶ ì¸í°ë½í¸ í¸ë¤ë¬ ë´ë¶ìì
                        í¸ì¶í  ì ììµëë¤.
                      </p>
                    </blockquote>
                    <p>
                      ì¸ë§í¬ì´ë ë´ë¶ì ì¼ë¡ ì¸í°ë½í¸ ë¹íì±í(<a
                        href="./synchronization.html#Disabling%20Interrupts"
                        >ì¸í°ë½í¸ ë¹íì±í </a
                      >ì°¸ì¡°)ì ì¤ë ë ì°¨ë¨ ë° ì°¨ë¨ í´ì (<code
                        >thread_block()</code
                      >
                      ë° <code>thread_unblock()</code>)ë¡ êµ¬ì¶ë©ëë¤. ê°
                      ì¸ë§í¬ì´ë <code>lib/kernel/list.c</code>ì ë§í¬ë ë¦¬ì¤í¸
                      êµ¬íì ì¬ì©íì¬ ëê¸° ì¤ì¸ ì¤ë ë ëª©ë¡ì ì ì§í©ëë¤.
                    </p>
                    <h2 id="locks">ë½(Locks)</h2>
                    <p>
                      ë½ì ì´ê¸°ê°ì´ 1ì¸ ì¸ë§í¬ì´ì ê°ìµëë¤(<a
                        href="./synchronization.html#Semaphores"
                        >ì¸ë§í¬ì´</a
                      >
                      ì°¸ì¡°). ì ê¸ì "up"ì í´ë¹íë ëìì "release(í´ì )"ë¼ê³ 
                      íê³ , "down"ì í´ë¹íë ëìì "acquire(íë)"ì´ë¼ê³ 
                      í©ëë¤.
                    </p>
                    <p>
                      ì¸ë§í¬ì´ì ë¹í´ ì ê¸ìë í ê°ì§ ì íì´ ì¶ê°ëëë°, ì ê¸ì
                      íëí ì¤ë ë, ì¦ ì ê¸ì "ìì ì"ë§ì´ ì ê¸ì í´ì í  ì
                      ìë¤ë ê²ìëë¤. ì´ ì íì´ ë¬¸ì ê° ëë¤ë©´ ë½ ëì 
                      ì¸ë§í¬ì´ë¥¼ ì¬ì©í´ì¼ íë¤ë ì¢ì ì í¸ìëë¤.
                    </p>
                    <p>
                      íí ì¤ì ë½ì "ì¬ê·ì "ì´ ìëë¯ë¡ íì¬ ë½ì ê±¸ê³  ìë
                      ì¤ë ëê° í´ë¹ ë½ì íëíë ¤ê³  ìëíë ê²ì ì¤ë¥ìëë¤. ë½
                      ì íê³¼ í¨ìë <code>include/threads/synch.h</code>ì
                      ì ì¸ëì´ ììµëë¤.
                    </p>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-keyword">struct</span> lock;
</code></pre>
                    <blockquote>
                      <p>ë½ì ëíëëë¤.</p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">lock_init</span> <span class="hljs-params">(<span class="hljs-keyword">struct</span> lock *lock)</span></span>;
</code></pre>
                    <blockquote>
                      <p>
                        ë½ì ì ë½ì¼ë¡ ì´ê¸°íí©ëë¤. ì´ ë½ì ì²ìì ì´ë¤
                        ì¤ë ëë ìì íì§ ììµëë¤.
                      </p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">lock_acquire</span> <span class="hljs-params">(<span class="hljs-keyword">struct</span> lock *lock)</span></span>;
</code></pre>
                    <blockquote>
                      <p>
                        íì¬ ì¤ë ëì ëí ë½ì íëíê³ , íìí ê²½ì° íì¬
                        ìì ìê° ë½ì í´ì í  ëê¹ì§ ê¸°ë¤ë¦½ëë¤.
                      </p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">lock_try_acquire</span> <span class="hljs-params">(<span class="hljs-keyword">struct</span> lock *lock)</span></span>;
</code></pre>
                    <blockquote>
                      <p>
                        íì¬ ì¤ë ëìì ì¬ì©í  ë½ì ëê¸°íì§ ìê³  íëíë ¤ê³ 
                        ìëí©ëë¤. ì±ê³µíë©´ ì°¸ì ë°ííê³ , ë½ì´ ì´ë¯¸ ìì ë
                        ê²½ì° ê±°ì§ì ë°íí©ëë¤. ì´ í¨ìë¥¼ íì´í¸ ë£¨íìì
                        í¸ì¶íë ê²ì CPU ìê°ì ë­ë¹íë¯ë¡ ì¢ì§ ìì¼ë¯ë¡ ëì 
                        <code>lock_acquire()</code>ë¥¼ ì¬ì©íì¸ì.
                      </p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">lock_release</span> <span class="hljs-params">(<span class="hljs-keyword">struct</span> lock *lock)</span></span>;
</code></pre>
                    <blockquote>
                      <p>íì¬ ì¤ë ëê° ìì í´ì¼ íë ë½ì í´ì í©ëë¤.</p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C">bool lock_held_by_current_thread (const struct lock *lock):
</code></pre>
                    <blockquote>
                      <p>
                        ì¤í ì¤ì¸ ì¤ë ëê° ë½ì ìì íê³  ìì¼ë©´ ì°¸ì ë°ííê³ ,
                        ê·¸ë ì§ ìì¼ë©´ ê±°ì§ì ë°íí©ëë¤. ììì ì¤ë ëê° ë½ì
                        ìì íê³  ìëì§ íì¤í¸íë í¨ìë ììµëë¤. í¸ì¶ìê°
                        ì¡°ì¹ë¥¼ ì·¨íê¸° ì ì ìëµì´ ë³ê²½ë  ì ìê¸° ëë¬¸ìëë¤.
                      </p>
                    </blockquote>
                    <h2 id="monitors">ëª¨ëí°(Monitors)</h2>
                    <p>
                      ëª¨ëí°ë ì¸ë§í¬ì´ë ë½ë³´ë¤ ë ëì ìì¤ì ëê¸°í
                      ííìëë¤. ëª¨ëí°ë ëê¸°íëë ë°ì´í°ì ëª¨ëí° ë½ì´ë¼ê³ 
                      íë ë½, ê·¸ë¦¬ê³  íë ì´ìì ì¡°ê±´ ë³ìë¡ êµ¬ì±ë©ëë¤.
                      ì¤ë ëë ë³´í¸ë ë°ì´í°ì ì¡ì¸ì¤íê¸° ì ì ë¨¼ì  ëª¨ëí° ë½ì
                      íëí©ëë¤. ê·¸ë° ë¤ì "ëª¨ëí°ì ìë¤"ê³  í©ëë¤. ëª¨ëí°ì
                      ìë ëì ì¤ë ëë ëª¨ë  ë³´í¸ë ë°ì´í°ì ëí ì ì´ê¶ì
                      ê°ì§ë©°, ì´ë¥¼ ìì ë¡­ê² ê²í íê±°ë ìì í  ì ììµëë¤.
                      ë³´í¸ë ë°ì´í°ì ëí ì¡ì¸ì¤ê° ìë£ëë©´ ëª¨ëí° ë½ì´
                      í´ì ë©ëë¤.
                    </p>
                    <p>
                      ì¡°ê±´ ë³ìë¥¼ ì¬ì©íë©´ ëª¨ëí°ì ì½ëê° ì¡°ê±´ì´ ì°¸ì´ ë  ëê¹ì§
                      ê¸°ë¤ë¦´ ì ììµëë¤. ê° ì¡°ê±´ ë³ìë "ì¼ë¶ ë°ì´í°ê° ì²ë¦¬ë¥¼
                      ìí´ ëì°©í¨" ëë "ì¬ì©ìì ë§ì§ë§ í¤ ìë ¥ í 10ì´ ì´ì
                      ê²½ê³¼" ë±ì ì¶ìì ì¸ ì¡°ê±´ê³¼ ì°ê´ë©ëë¤. ëª¨ëí°ì ì½ëê°
                      ì¡°ê±´ì´ ì°¸ì´ ë  ëê¹ì§ ê¸°ë¤ë ¤ì¼ íë ê²½ì°, ì°ê²°ë ì¡°ê±´
                      ë³ìì 'ëê¸°'íì¬ ì ê¸ì í´ì íê³  ì¡°ê±´ì´ ì í¸ê° ë  ëê¹ì§
                      ê¸°ë¤ë¦½ëë¤. ë°ë©´ì ì´ë¬í ì¡°ê±´ ì¤ íëê° ì°¸ì´ ëë©´ ì¡°ê±´ì
                      'ì í¸'ë¥¼ ë³´ë´ í ëªì ëê¸°ìë¥¼ ê¹¨ì°ê±°ë ì¡°ê±´ì
                      'ë¸ë¡ëìºì¤í¸'íì¬ ëª¨ë  ëê¸°ìë¥¼ ê¹¨ìëë¤.
                    </p>
                    <p>
                      ëª¨ëí°ì ëí ì´ë¡ ì  íì C.A.R.Hoareì ìí´
                      ë§ë ¨ëììµëë¤. ì¤ì  ì¬ì©ë²ì ëì¤ì Mesa ì´ì ì²´ì ì ê´í
                      ë¼ë¬¸ìì ìì¸í ì¤ëªíìµëë¤. ì¡°ê±´ ë³ì ì íê³¼ í¨ìë
                      <code>include/threads/synch.h</code>ì ì ì¸ëì´ ììµëë¤.
                    </p>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-keyword">struct</span> condition;
</code></pre>
                    <blockquote>
                      <p>ì¡°ê±´ ë³ìë¥¼ ëíëëë¤.</p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">cond_init</span> <span class="hljs-params">(<span class="hljs-keyword">struct</span> condition *cond)</span></span>;
</code></pre>
                    <blockquote>
                      <p><code>cond</code>ë¥¼ ì ì¡°ê±´ ë³ìë¡ ì´ê¸°íí©ëë¤.</p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">cond_wait</span> <span class="hljs-params">(<span class="hljs-keyword">struct</span> condition *cond, <span class="hljs-keyword">struct</span> lock *lock)</span></span>;
</code></pre>
                    <blockquote>
                      <p>
                        ììì ì¼ë¡ ë½(ëª¨ëí° ë½)ì í´ì íê³  ë¤ë¥¸ ì½ëìì cond
                        ì í¸ê° ì¬ ëê¹ì§ ê¸°ë¤ë¦½ëë¤. condê° ì í¸ë¥¼ ë°ì í
                        ë°ííê¸° ì ì ë½ì ë¤ì íëí©ëë¤. ì´ í¨ìë¥¼ í¸ì¶íê¸°
                        ì ì ë½ì ì ì§í´ì¼ í©ëë¤. ì í¸ë¥¼ ë³´ë´ê³  ëê¸° ìíìì
                        ê¹¨ì´ëë ê²ì ììì ì¸ ì°ì°ì´ ìëëë¤. ë°ë¼ì
                        ì¼ë°ì ì¼ë¡ <code>cond_wait()</code>ì í¸ì¶ìë ëê¸°ê°
                        ìë£ë í ì¡°ê±´ì ë¤ì íì¸íê³  íìí ê²½ì° ë¤ì ëê¸°í´ì¼
                        í©ëë¤. ììë ë¤ì ì¹ìì ì°¸ì¡°íì¸ì.
                      </p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">cond_signal</span> <span class="hljs-params">(<span class="hljs-keyword">struct</span> condition *cond, <span class="hljs-keyword">struct</span> lock *lock)</span></span>;
</code></pre>
                    <blockquote>
                      <p>
                        ëê¸° ì¤ì¸ ì¤ë ëê° ìë ê²½ì°(ëª¨ëí° ë½ì¼ë¡ ë³´í¸ë¨), ì´
                        í¨ìë ê·¸ ì¤ íëë¥¼ ê¹¨ìëë¤. ëê¸° ì¤ì¸ ì¤ë ëê° ìì¼ë©´
                        ìë¬´ ììë ìííì§ ìê³  ë°íí©ëë¤. ì´ í¨ìë¥¼ í¸ì¶íê¸°
                        ì ì ë½ì ì ì§í´ì¼ í©ëë¤.
                      </p>
                    </blockquote>
                    <hr />
                    <pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">cond_broadcast</span> <span class="hljs-params">(<span class="hljs-keyword">struct</span> condition *cond, <span class="hljs-keyword">struct</span> lock *lock)</span></span>;
</code></pre>
                    <blockquote>
                      <p>
                        ìí ëê¸° ì¤ì¸ ëª¨ë  ì¤ë ëê° ìì¼ë©´ ê¹¨ìëë¤(ëª¨ëí°
                        ë½ì¼ë¡ ë³´í¸ë¨). ì´ í¨ìë¥¼ í¸ì¶íê¸° ì ì ë½ ìíë¥¼
                        ì ì§í´ì¼ í©ëë¤.
                      </p>
                    </blockquote>
                    <h3 id="monitor-example">Monitor Example(ëª¨ëí° ìì)</h3>
                    <p>
                      ëª¨ëí°ì ê³ ì ì ì¸ ìë íë ì´ìì "ìì°ì" ì¤ë ëê°
                      ë¬¸ìë¥¼ ì°ê³  íë ì´ìì "ìë¹ì" ì¤ë ëê° ë¬¸ìë¥¼ ì½ë
                      ë²í¼ë¥¼ ì²ë¦¬íë ê²ìëë¤. ì´ë¥¼ êµ¬ííë ¤ë©´ ëª¨ëí° ë½ ì¸ì
                      <code>not_full</code>ê³¼ <code>not_empty</code>ë¼ë ë ê°ì
                      ì¡°ê±´ ë³ìê° íìí©ëë¤:
                    </p>
                    <pre><code class="lang-C">    <span class="hljs-keyword">char</span> buf[BUF_SIZE];     <span class="hljs-comment">/* ë²í¼ */</span>
    <span class="hljs-keyword">size_t</span> n = <span class="hljs-number">0</span>;         <span class="hljs-comment">/* 0 &lt;= n &lt;= BUF SIZE: ë²í¼ì ë¬¸ì ì */</span>
    <span class="hljs-keyword">size_t</span> head = <span class="hljs-number">0</span>;        <span class="hljs-comment">/* ì¸ ë¤ì ë¬¸ìì BUF ì¸ë±ì¤(mod BUF SIZE) */</span>
    <span class="hljs-keyword">size_t</span> tail = <span class="hljs-number">0</span>;         <span class="hljs-comment">/* ì½ì ë¤ì ë¬¸ìì BUF ì¸ë±ì¤(mod BUF SIZE) */</span>
    <span class="hljs-keyword">struct</span> lock lock;         <span class="hljs-comment">/* ëª¨ëí° ë½ */</span>
    <span class="hljs-keyword">struct</span> condition not_empty; <span class="hljs-comment">/* ë²í¼ê° ë¹ì´ ìì§ ìì ë ì í¸ë¥¼ ë³´ë */</span>
    <span class="hljs-keyword">struct</span> condition not_full;     <span class="hljs-comment">/* ë²í¼ê° ê°ë ì°¨ ìì§ ìì ë ì í¸ë¥¼ ë³´ë */</span>

    ...ë½ ë° ì¡°ê±´ ë³ìë¥¼ ì´ê¸°íí©ëë¤...

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">put</span> <span class="hljs-params">(<span class="hljs-keyword">char</span> ch)</span> </span>{
      lock_acquire (&amp;lock);
      <span class="hljs-keyword">while</span> (n == BUF_SIZE)    <span class="hljs-comment">/* ë²í¼ê° ê°ë ì°¨ ìë í ì¶ê°í  ì ìì */</span>
        cond_wait (&amp;not_full, &amp;lock);
      buf[head++ % BUF_SIZE] = ch;    <span class="hljs-comment">/* ë²í¼ì chë¥¼ ì¶ê° */</span>
      n++;
      cond_signal (&amp;not_empty, &amp;lock);    <span class="hljs-comment">/* ë²í¼ë ë ì´ì ë¹ì´ìì ì ìì */</span>
      lock_release (&amp;lock);
    }

    <span class="hljs-function"><span class="hljs-keyword">char</span> <span class="hljs-title">get</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>)</span> </span>{
      <span class="hljs-keyword">char</span> ch;
      lock_acquire (&amp;lock);
      <span class="hljs-keyword">while</span> (n == <span class="hljs-number">0</span>)        <span class="hljs-comment">/* ë¹ì´ ìë ëììë ë²í¼ë¥¼ ì½ì ì ìì */</span>
        cond_wait (&amp;not_empty, &amp;lock);
      ch = buf[tail++ % BUF_SIZE];    <span class="hljs-comment">/* ë²í¼ìì chë¥¼ ê°ì ¸ì´ */</span>
      n--;
      cond_signal (&amp;not_full, &amp;lock);    <span class="hljs-comment">/* ë ì´ì ê°ë ì°° ì ìì */</span>
      lock_release (&amp;lock);
    }
</code></pre>
                    <p>
                      ìì ì½ëê° ìì í ì¬ë°ë¥´ê² ëë ¤ë©´ <code>BUF_SIZE</code>ê°
                      <code>SIZE_MAX + 1</code>ë¡ ê· ë±íê² ëëì´ì¼ í©ëë¤.
                      ê·¸ë ì§ ìì¼ë©´ <code>head</code>ê° 0ì¼ë¡ ì²ì ë©íë  ë
                      ì¤í¨í©ëë¤. ì¤ì ë¡ <code>BUF_SIZE</code>ë ì¼ë°ì ì¼ë¡ 2ì
                      ê±°ë­ì ê³±ì´ ë©ëë¤.
                    </p>
                    <h2 id="optimization-barriers">
                      Optimization Barriers(ìµì í ë°°ë¦¬ì´)
                    </h2>
                    <p>
                      ìµì í ë°°ë¦¬ì´ë ì»´íì¼ë¬ê° ë°°ë¦¬ì´ë¥¼ ê°ë¡ì§ë¥´ë ë©ëª¨ë¦¬
                      ìíì ëí´ ê°ì íì§ ëª»íëë¡ íë í¹ì ë¬¸ìëë¤.
                      ì»´íì¼ë¬ë ë°°ë¦¬ì´ë¥¼ ê°ë¡ì§ë¬ ë³ìì ì½ê¸° ëë ì°ê¸° ììë¥¼
                      ë°ê¾¸ê±°ë, ì£¼ìë¥¼ ê°ì ¸ê°ì§ ìë ë¡ì»¬ ë³ìë¥¼ ì ì¸íê³ ë
                      ë°°ë¦¬ì´ë¥¼ ê°ë¡ì§ë¬ ë³ì ê°ì´ ìì ëì§ ìëë¤ê³  ê°ì íì§
                      ììµëë¤. íí ì¤ìì
                      <code>include/threads/synch.h</code>ë
                      <code>barrier()</code> ë§¤í¬ë¡ë¥¼ ìµì í ë°°ë¦¬ì´ë¡
                      ì ìí©ëë¤.
                    </p>
                    <p>
                      ìµì í ë°°ë¦¬ì´ë¥¼ ì¬ì©íë í ê°ì§ ì´ì ë ì»´íì¼ë¬ê° ëª¨ë¥´ë
                      ì¬ì´ì ë¤ë¥¸ ì¤ë ëë ì¸í°ë½í¸ í¸ë¤ë¬ì ìí´ ë°ì´í°ê°
                      ë¹ëê¸°ì ì¼ë¡ ë³ê²½ë  ì ìë ê²½ì°ìëë¤.
                      <code>devices/timer.c</code>ì
                      <code>too_many_loops()</code> í¨ìê° ê·¸ ììëë¤. ì´
                      í¨ìë íì´ë¨¸ í±ì´ ë°ìí  ëê¹ì§ ë£¨íìì ë°ìê²
                      ëê¸°(busy-waiting)íë ê²ì¼ë¡ ììí©ëë¤:
                    </p>
                    <pre><code class="lang-C">    <span class="hljs-comment">/* íì´ë¨¸ê° ì¸ë¦´ ëê¹ì§ ê¸°ë¤ë¦¼ */</span>
    <span class="hljs-keyword">int64_t</span> start = ticks;
    <span class="hljs-keyword">while</span> (ticks == start)
        barrier();
</code></pre>
                    <p>
                      ë£¨íì ìµì í ë°°ë¦¬ì´ê° ìì¼ë©´ ì»´íì¼ë¬ë
                      <code>start</code>ì <code>ticks</code>ê° ëì¼íê²
                      ììíê³  ë£¨í ìì²´ê° ì´ë¥¼ ë³ê²½íì§ ìê¸° ëë¬¸ì ë£¨íê° ì ë
                      ì¢ë£ëì§ ìëë¤ê³  ê²°ë¡ ì ë´ë¦´ ì ììµëë¤. ê·¸ë¬ë©´ í¨ìë¥¼
                      ë¬´í ë£¨íë¡ 'ìµì í'í  ì ìëë°, ì´ë ë¶ëª ë°ëì§íì§
                      ììµëë¤.
                    </p>
                    <p>
                      ìµì í ë°°ë¦¬ì´ë ë¤ë¥¸ ì»´íì¼ë¬ ìµì íë¥¼ í¼íê¸° ìí´ ì¬ì©í 
                      ì ììµëë¤. <code>devices/timer.c</code>ì ìë
                      <code>busy_wait()</code> í¨ìê° ê·¸ ììëë¤. ì¬ê¸°ìë ì´
                      ë£¨íê° í¬í¨ëì´ ììµëë¤:
                    </p>
                    <pre><code class="lang-C">    <span class="hljs-keyword">while</span> (loops-- &gt; <span class="hljs-number">0</span>)
      barrier ();
</code></pre>
                    <p>
                      ì´ ë£¨íì ëª©íë ë£¨íë¥¼ ìë ê°ìì 0ê¹ì§ ì¹´ì´í¸ ë¤ì´íì¬
                      ë°ìê² ëê¸°íë ê²ìëë¤. ë°°ë¦¬ì´ê° ìì¼ë©´ ì»´íì¼ë¬ë
                      ì ì©í ì¶ë ¥ì ìì±íì§ ìê³  ë¶ìì©ì´ ìì¼ë¯ë¡ ë£¨íë¥¼
                      ìì í ì­ì í  ì ììµëë¤. ë°°ë¦¬ì´ë ì»´íì¼ë¬ê° ë£¨í ë³¸ë¬¸ì
                      ì¤ìí í¨ê³¼ê° ìë ê²ì²ë¼ ê°ì¥íëë¡ ê°ì í©ëë¤.
                    </p>
                    <p>
                      ë§ì§ë§ì¼ë¡ ìµì í ë°°ë¦¬ì´ë¥¼ ì¬ì©íì¬ ë©ëª¨ë¦¬ ì½ê¸° ëë ì°ê¸°
                      ììë¥¼ ê°ì í  ì ììµëë¤. ìë¥¼ ë¤ì´ íì´ë¨¸ ì¸í°ë½í¸ê°
                      ë°ìí  ëë§ë¤ ì ì­ ë³ì timer_put_charì ë¬¸ìê° ì½ìì
                      ì¶ë ¥ëë 'ê¸°ë¥'ì ì¶ê°íë¤ê³  ê°ì í´ ë³´ê² ìµëë¤(ë¨, ì ì­
                      ë¶ì¸ ë³ì timer_do_putì´ trueì¸ ê²½ì°ìë§). ì¶ë ¥ëëë¡
                      ì¤ì íë ê°ì¥ ì¢ì ë°©ë²ì ë¤ìê³¼ ê°ì´ ìµì í ë°°ë¦¬ì´ë¥¼
                      ì¬ì©íë ê²ìëë¤:
                    </p>
                    <pre><code class="lang-C">    timer_put_char = <span class="hljs-string">&apos;x&apos;</span>;
    barrier ();
    timer_do_put = <span class="hljs-literal">true</span>;
</code></pre>
                    <p>
                      ë°°ë¦¬ì´ê° ìì¼ë©´ ì»´íì¼ë¬ê° ì°ì°ì ëì¼í ììë¡ ì ì§í 
                      ì´ì ê° ìì ë ìì ë¡­ê² ììë¥¼ ë°ê¿ ì ìê¸° ëë¬¸ì ì½ëì
                      ë²ê·¸ê° ë°ìí©ëë¤. ì´ ê²½ì° ì»´íì¼ë¬ë í ë¹ ììê°
                      ì¤ìíë¤ë ê²ì ëª¨ë¥´ê¸° ëë¬¸ì ìµì í íë¡ê·¸ë¨ì´ ììë¥¼
                      ë°ê¿ ì ììµëë¤. ì¤ì ë¡ ì´ë ê² í ì§ë ì ì ìì¼ë©°,
                      ì»´íì¼ë¬ì ë¤ë¥¸ ìµì í íëê·¸ë¥¼ ì ë¬íê±°ë ë¤ë¥¸ ë²ì ì
                      ì»´íì¼ë¬ë¥¼ ì¬ì©íë©´ ë¤ë¥¸ ëìì´ ë°ìí  ì ììµëë¤.
                    </p>
                    <p>
                      ë ë¤ë¥¸ í´ê²°ì±ì í ë¹ ì£¼ë³ìì ì¸í°ë½í¸ë¥¼ ë¹íì±ííë
                      ê²ìëë¤. ì´ ë°©ë²ì ì¬ì ë ¬ì ë§ì§ë ëª»íì§ë§ ì¸í°ë½í¸
                      í¸ë¤ë¬ê° í ë¹ ì¬ì´ì ê°ìíë ê²ì ë°©ì§í©ëë¤. ëí
                      ì¸í°ë½í¸ë¥¼ ë¹íì±ííë¤ê° ë¤ì íì±íí  ë ë°íì ë¹ì©ì´
                      ì¶ê°ë¡ ë°ìí©ëë¤:
                    </p>
                    <pre><code class="lang-C">    <span class="hljs-keyword">enum</span> intr_level old_level = intr_disable ();
    timer_put_char = <span class="hljs-string">&apos;x&apos;</span>;
    timer_do_put = <span class="hljs-literal">true</span>;
    intr_set_level (old_level);
</code></pre>
                    <p>
                      ë ë²ì§¸ í´ê²°ì±ì <code>timer_put_char</code> ë°
                      <code>timer_do_put</code>ì ì ì¸ì
                      <code>volatile</code>ì¼ë¡ íìíë ê²ìëë¤. ì´ í¤ìëë
                      ì»´íì¼ë¬ìê² í´ë¹ ë³ìê° ì¸ë¶ìì ê´ì°°í  ì ììì
                      ìë ¤ì£¼ê³  ìµì íë¥¼ ìí ìëë¥¼ ì íí©ëë¤. ê·¸ë¬ë
                      <code>volatile</code>ì ìë¯¸ë ì ì ìëì´ ìì§ ìì¼ë¯ë¡
                      ì¼ë°ì ì¸ í´ê²°ì±ì ìëëë¤. ê¸°ë³¸ íí ì¤ ì½ëë
                      <code>volatile</code>ì ì í ì¬ì©íì§ ììµëë¤.
                    </p>
                    <p>
                      ë½ì ì¸í°ë½í¸ë¥¼ ë°©ì§íê±°ë ì»´íì¼ë¬ê° ì ê¸ì´ ì ì§ëë ìì­
                      ë´ìì ì½ëë¥¼ ì¬ì ë ¬íë ê²ì ë°©ì§íì§ ëª»íê¸° ëë¬¸ì
                      ë¤ìê³¼ ê°ì ë°©ë²ì í´ê²°ì±ì´ ìëëë¤:
                    </p>
                    <pre><code class="lang-C">    lock_acquire (&amp;timer_lock);        <span class="hljs-comment">/* ìëª»ë ì½ë */</span>
    timer_put_char = <span class="hljs-string">&apos;x&apos;</span>;
    timer_do_put = <span class="hljs-literal">true</span>;
    lock_release (&amp;timer_lock);
</code></pre>
                    <p>
                      ì»´íì¼ë¬ë ì¸ë¶, ì¦ ë¤ë¥¸ ìì¤ íì¼ì ì ìë í¨ìì í¸ì¶ì
                      ì íë ííì ìµì í ë°°ë¦¬ì´ë¡ ì·¨ê¸í©ëë¤. êµ¬ì²´ì ì¼ë¡
                      ì»´íì¼ë¬ë ì¸ë¶ìì ì ìë í¨ìê° ì ì  ëë ëì ì¼ë¡
                      í ë¹ë ë°ì´í°ì ì£¼ìë¥¼ ê°ì ¸ì¨ ëª¨ë  ë¡ì»¬ ë³ìì ì¡ì¸ì¤í  ì
                      ìë¤ê³  ê°ì í©ëë¤. ì´ë ì¢ì¢ ëªìì  ë°°ë¦¬ì´ê° ìëµë  ì
                      ììì ìë¯¸í©ëë¤. ì´ê²ì´ íí ì¤ì ëªìì  ë°°ë¦¬ì´ê° ê±°ì
                      ìë ì´ì  ì¤ íëìëë¤.
                    </p>
                    <p>
                      ëì¼í ìì¤ íì¼ ëë ìì¤ íì¼ì í¬í¨ë í¤ëì ì ìë
                      í¨ìë ìµì í ë°°ë¦¬ì´ë¡ ì ë¢°í  ì ììµëë¤. ì»´íì¼ë¬ê°
                      ìµì íë¥¼ ìííê¸° ì ì ì ì²´ ìì¤ íì¼ì ì½ê³  êµ¬ë¬¸ ë¶ìí 
                      ì ìê¸° ëë¬¸ì ì ì ì ì í¨ìë¥¼ í¸ì¶íë ê²½ì°ìë
                      ì ì©ë©ëë¤.
                    </p>
                  </section>
                </div>
                <div class="search-results">
                  <div class="has-results">
                    <h1 class="search-results-title">
                      <span class="search-results-count"></span> results
                      matching "<span class="search-query"></span>"
                    </h1>
                    <ul class="search-results-list"></ul>
                  </div>
                  <div class="no-results">
                    <h1 class="search-results-title">
                      No results matching "<span class="search-query"></span>"
                    </h1>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <a
          href="threads.html"
          class="navigation navigation-prev"
          aria-label="Previous page: Threads"
        >
          <i class="fa fa-angle-left"></i>
        </a>

        <a
          href="memory_allocation.html"
          class="navigation navigation-next"
          aria-label="Next page: Memory Allocation"
        >
          <i class="fa fa-angle-right"></i>
        </a>
      </div>

      <script>
        var gitbook = gitbook || [];
        gitbook.push(function () {
          gitbook.page.hasChanged({
            page: {
              title: "Synchronization",
              level: "6.2",
              depth: 1,
              next: {
                title: "Memory Allocation",
                level: "6.3",
                depth: 1,
                path: "appendix/memory_allocation.md",
                ref: "appendix/memory_allocation.md",
                articles: [],
              },
              previous: {
                title: "Threads",
                level: "6.1",
                depth: 1,
                path: "appendix/threads.md",
                ref: "appendix/threads.md",
                articles: [],
              },
              dir: "ltr",
            },
            config: {
              gitbook: "*",
              theme: "default",
              variables: {},
              plugins: [],
              pluginsConfig: {
                highlight: {},
                search: {},
                lunr: { maxIndexSize: 1000000, ignoreSpecialCharacters: false },
                sharing: {
                  facebook: true,
                  twitter: true,
                  google: false,
                  weibo: false,
                  instapaper: false,
                  vk: false,
                  all: ["facebook", "google", "twitter", "weibo", "instapaper"],
                },
                fontsettings: { theme: "white", family: "sans", size: 2 },
                "theme-default": {
                  styles: {
                    website: "styles/website.css",
                    pdf: "styles/pdf.css",
                    epub: "styles/epub.css",
                    mobi: "styles/mobi.css",
                    ebook: "styles/ebook.css",
                    print: "styles/print.css",
                  },
                  showLevel: false,
                },
              },
              structure: {
                langs: "LANGS.md",
                readme: "README.md",
                glossary: "GLOSSARY.md",
                summary: "SUMMARY.md",
              },
              pdf: {
                pageNumbers: true,
                fontSize: 12,
                fontFamily: "Arial",
                paperSize: "a4",
                chapterMark: "pagebreak",
                pageBreaksBefore: "/",
                margin: { right: 62, left: 62, top: 56, bottom: 56 },
              },
              styles: {
                website: "styles/website.css",
                pdf: "styles/pdf.css",
                epub: "styles/epub.css",
                mobi: "styles/mobi.css",
                ebook: "styles/ebook.css",
                print: "styles/print.css",
              },
            },
            file: {
              path: "appendix/synchronization.md",
              mtime: "2022-05-23T14:07:34.236Z",
              type: "markdown",
            },
            gitbook: { version: "3.2.3", time: "2022-05-23T14:13:22.147Z" },
            basePath: "..",
            book: { language: "" },
          });
        });
      </script>
    </div>

    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>

    <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>

    <script src="../gitbook/gitbook-plugin-search/search.js"></script>

    <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>

    <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>

    <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>

    <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
  </body>
</html>
